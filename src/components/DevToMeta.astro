---
const { devToSlug } = Astro.props;
---

<span id="devto-meta" data-slug={devToSlug}>
  <script is:inline>
    const username = "denodell";
    const meta = document.getElementById("devto-meta");
    const slug = meta.dataset.slug;

    fetch(`https://dev.to/api/articles/${username}/${slug}`)
      .then(res => res.json())
      .then(post => {
        const html = `<span>
            ❤️ ${post.public_reactions_count ?? 0} &nbsp;
            💬 ${post.comments_count ?? 0}
        </span>`;
        meta.innerHTML = html;
      });
  </script>
</span>